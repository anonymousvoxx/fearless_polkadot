(()=>{"use strict";var t={655:(t,e,n)=>{n.r(e),n.d(e,{__assign:()=>a,__asyncDelegator:()=>S,__asyncGenerator:()=>b,__asyncValues:()=>_,__await:()=>w,__awaiter:()=>u,__classPrivateFieldGet:()=>O,__classPrivateFieldIn:()=>j,__classPrivateFieldSet:()=>P,__createBinding:()=>f,__decorate:()=>s,__exportStar:()=>m,__extends:()=>o,__generator:()=>d,__importDefault:()=>I,__importStar:()=>k,__makeTemplateObject:()=>E,__metadata:()=>l,__param:()=>c,__read:()=>v,__rest:()=>i,__spread:()=>p,__spreadArray:()=>g,__spreadArrays:()=>h,__values:()=>y});var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)};function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var a=function(){return a=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},a.apply(this,arguments)};function i(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}function s(t,e,n,r){var o,a=arguments.length,i=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(a<3?o(i):a>3?o(e,n,i):o(e,n))||i);return a>3&&i&&Object.defineProperty(e,n,i),i}function c(t,e){return function(n,r){e(n,r,t)}}function l(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function u(t,e,n,r){return new(n||(n=Promise))((function(o,a){function i(t){try{c(r.next(t))}catch(t){a(t)}}function s(t){try{c(r.throw(t))}catch(t){a(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,s)}c((r=r.apply(t,e||[])).next())}))}function d(t,e){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}var f=Object.create?function(t,e,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]};function m(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||f(e,t,n)}function y(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,a=n.call(t),i=[];try{for(;(void 0===e||e-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i}function p(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(v(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var a=arguments[e],i=0,s=a.length;i<s;i++,o++)r[o]=a[i];return r}function g(t,e,n){if(n||2===arguments.length)for(var r,o=0,a=e.length;o<a;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))}function w(t){return this instanceof w?(this.v=t,this):new w(t)}function b(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(t,e||[]),a=[];return r={},i("next"),i("throw"),i("return"),r[Symbol.asyncIterator]=function(){return this},r;function i(t){o[t]&&(r[t]=function(e){return new Promise((function(n,r){a.push([t,e,n,r])>1||s(t,e)}))})}function s(t,e){try{(n=o[t](e)).value instanceof w?Promise.resolve(n.value.v).then(c,l):u(a[0][2],n)}catch(t){u(a[0][3],t)}var n}function c(t){s("next",t)}function l(t){s("throw",t)}function u(t,e){t(e),a.shift(),a.length&&s(a[0][0],a[0][1])}}function S(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,o){e[r]=t[r]?function(e){return(n=!n)?{value:w(t[r](e)),done:"return"===r}:o?o(e):e}:o}}function _(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=y(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,o){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,o,(e=t[n](e)).done,e.value)}))}}}function E(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var x=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};function k(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&f(e,t,n);return x(e,t),e}function I(t){return t&&t.__esModule?t:{default:t}}function O(t,e,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)}function P(t,e,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(t,n):o?o.value=n:e.set(t,n),n}function j(t,e){if(null===e||"object"!=typeof e&&"function"!=typeof e)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof t?e===t:t.has(e)}},559:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(655);r.__exportStar(n(521),e),r.__exportStar(n(657),e),r.__exportStar(n(33),e),r.__exportStar(n(345),e),r.__exportStar(n(874),e)},521:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.handleHistoryElement=void 0;const r=n(599),o=n(953);function a(t){return(0,o.isTransfer)(t)?[i(t)]:(0,o.isBatch)(t)?(0,o.callsFromBatch)(t).map((t=>a(t).map(((t,e,n)=>t)))).flat():(0,o.isProxy)(t)?a((0,o.callFromProxy)(t)):[]}function i(t){const[e,n]=t.args;return[e.toString(),n.toBigInt()]}e.handleHistoryElement=async function(t){const{isSigned:e}=t.extrinsic;if(e){let e=function(t){if(t.success)return null;let e=a(t.extrinsic.method);if(0==e.length)return null;let n=t.extrinsic.signer;return e.map((e=>{let r=t.block.block.header.number.toString();return{extrinsicHash:t.extrinsic.hash.toString(),amount:e[1].toString(),from:n.toString(),to:e[0],block:r,fee:(0,o.exportFeeFromDepositEventAsString)(t),extrinsicId:(0,o.extrinsicIdFromBlockAndIdx)(r,t.idx.toString()),success:!1}}))}(t);null!=e?await async function(t,e){let n=t.map((t=>{const n=new r.HistoryElement(t.extrinsicId+"-from");n.address=t.from,n.timestamp=(0,o.timestamp)(e.block),n.transfer=t;const a=new r.HistoryElement(t.extrinsicId+"-to");return a.address=t.to,a.timestamp=(0,o.timestamp)(e.block),a.transfer=t,[a.save(),n.save()]}));await Promise.allSettled(n)}(e,t):await async function(t){const e=new r.HistoryElement(t.extrinsic.hash.toString());e.address=t.extrinsic.signer.toString(),e.timestamp=(0,o.timestamp)(t.block),e.extrinsic={hash:t.extrinsic.hash.toString(),module:t.extrinsic.method.section,call:t.extrinsic.method.method,success:t.success,fee:(0,o.exportFeeFromDepositEventAsString)(t)},await e.save()}(t)}}},345:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.handleNewEra=e.handleStakersElected=void 0;const r=n(953),o=n(259);async function a(t){const e=(await api.query.staking.currentEra()).unwrap(),n=(await api.query.staking.erasStakersClipped.entries(e.toNumber())).map((([n,a])=>{const[,i]=n.args;let s=i.toString();const c=new o.EraValidatorInfo((0,r.eventId)(t)+s);return c.era=e.toNumber(),c.address=s,c.total=a.total.toString(),c.own=a.own.toString(),c.others=a.others.map((t=>({who:t.who.toString(),value:t.value.toString()}))),c.save()}));await Promise.allSettled(n)}e.handleStakersElected=async function(t){await a(t)},e.handleNewEra=a},657:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.handleSlash=e.handleSlashed=e.handleReward=e.handleRewarded=void 0;const r=n(599),o=n(953),a=n(874);function i(t){const[e,n]=t.args;return[e.toString(),n.toNumber()]}function s(t,e){const[n]=t.args;return[e,n.toNumber()]}async function c(t){let e=(0,o.eventId)(t);try{if(void 0!==await r.ErrorEvent.get(e))return void logger.info(`Skip rewardEvent: ${e}`);await(0,a.handleRewardRestakeForAnalytics)(t),await async function(t){if(void 0!==await r.HistoryElement.get((0,o.eventId)(t)))return;let e=t.block.block.extrinsics.map((t=>l(t.method,t.signer.toString()))).filter((t=>0!=t.length)).flat();if(0==e.length)return;const n=new Set(e.map((([t])=>t)));await d(t.block,t.event.method,t.event.section,-1,((t,e)=>n.has(e)?t+1:t),((t,n)=>{const[r,o]=e[t];return{amount:n,isReward:!0,validator:r,era:o}}))}(t)}catch(t){logger.error(`Got error on reward event: ${e}: ${t.toString()}`);let n=new r.ErrorEvent(e);n.description=t.toString(),await n.save()}}function l(t,e){return"payoutStakers"==t.method?[i(t)]:"payoutValidator"==t.method?[s(t,e)]:(0,o.isBatch)(t)?(0,o.callsFromBatch)(t).map((t=>l(t,e).map(((t,e,n)=>t)))).flat():(0,o.isProxy)(t)?l((0,o.callFromProxy)(t),e):[]}async function u(t){let e=(0,o.eventId)(t);try{if(void 0!==await r.ErrorEvent.get(e))return void logger.info(`Skip slashEvent: ${e}`);await(0,a.handleSlashForAnalytics)(t),await async function(t){if(void 0!==await r.HistoryElement.get((0,o.eventId)(t)))return;const e=(await api.query.staking.currentEra()).unwrap(),n=api.consts.staking.slashDeferDuration,a=e.toNumber()-n.toNumber(),i=(await api.query.staking.erasStakersClipped.entries(a)).map((([t,e])=>{let[,n]=t.args;return n.toString()})),s=new Set(i);await d(t.block,t.event.method,t.event.section,"",((t,e)=>s.has(e)?e:t),((t,e)=>({amount:e,isReward:!1,validator:t,era:a})))}(t)}catch(t){logger.error(`Got error on slash event: ${e}: ${t.toString()}`);let n=new r.ErrorEvent(e);n.description=t.toString(),await n.save()}}async function d(t,e,n,a,i,s){let c=t.block.header.number.toString(),l=(0,o.timestamp)(t);const[,u]=t.events.reduce(((t,a,u)=>{let[d,f]=t;if(a.event.method!=e||a.event.section!=n)return t;let{event:{data:[m,y]}}=a;const v=i(d,m.toString()),p=(0,o.eventIdFromBlockAndIdx)(c,u.toString()),h=new r.HistoryElement(p);return h.timestamp=l,h.address=m.toString(),h.reward=s(v,y.toString()),f.push(h.save()),[v,f]}),[a,[]]);await Promise.allSettled(u)}e.handleRewarded=async function(t){await c(t)},e.handleReward=c,e.handleSlashed=async function(t){await u(t)},e.handleSlash=u},874:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.handleRewardRestakeForAnalytics=e.handleSlashForAnalytics=e.handleUnbonded=e.handleBonded=void 0;const r=n(599),o=n(953);e.handleBonded=async function(t){const{event:{data:[e,n]}}=t;let a=e.toString(),s=n.toBigInt(),c=await i(a,s);const l=new r.StakeChange((0,o.eventId)(t));l.timestamp=(0,o.timestamp)(t.block),l.address=a,l.amount=s.toString(),l.accumulatedAmount=c.toString(),l.type="bonded",await l.save()},e.handleUnbonded=async function(t){const{event:{data:[e,n]}}=t;let a=e.toString(),s=n.toBigInt(),c=await i(a,-s);const l=new r.StakeChange((0,o.eventId)(t));l.timestamp=(0,o.timestamp)(t.block),l.address=a,l.amount=s.toString(),l.accumulatedAmount=c.toString(),l.type="unbonded",await l.save()},e.handleSlashForAnalytics=async function(t){const{event:{data:[e,n]}}=t;let a=e.toString(),s=n.toBigInt(),c=await i(a,-s);const l=new r.StakeChange((0,o.eventId)(t));l.timestamp=(0,o.timestamp)(t.block),l.address=e.toString(),l.amount=s.toString(),l.accumulatedAmount=c.toString(),l.type="slashed",await l.save()};let a={};async function i(t,e){let n=await r.AccumulatedStake.get(t);if(void 0!==n){let t=BigInt(n.amount).valueOf();return t+=e,n.amount=t.toString(),await n.save(),t}{let n=new r.AccumulatedStake(t);return n.amount=e.toString(),await n.save(),e}}e.handleRewardRestakeForAnalytics=async function(t){let{event:{data:[e,n]}}=t,s=e.toString();const c=await async function(t,e){const n=(0,o.blockNumber)(e);let r=a[n];if(void 0!==r)return r[t];{a={};let r=e.event.method,o=e.event.section;const i=e.block.events.filter((t=>t.event.method==r&&t.event.section==o)).map((t=>{let{event:{data:[e]}}=t;return e})),s=(await api.query.staking.payee.multi(i)).map((t=>t));let c={};if(s.length!==i.length){const e=await api.query.staking.payee(t);return c[t]=e,a[n]=c,e}return i.forEach(((t,e)=>{let n=t.toString(),r=s[e];c[n]=r})),a[n]=c,c[t]}}(s,t);if(c.isStaked){let e=n.toBigInt(),a=await i(s,e);const c=new r.StakeChange((0,o.eventId)(t));c.timestamp=(0,o.timestamp)(t.block),c.address=s,c.amount=e.toString(),c.accumulatedAmount=a.toString(),c.type="rewarded",await c.save()}}},33:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.handleTransferKeepAlive=e.handleTransfer=void 0;const r=n(599),o=n(953);async function a(t){const{event:{data:[e,n]}}=t,a=new r.HistoryElement((0,o.eventId)(t)+"-from");a.address=e.toString(),await i(a,t);const s=new r.HistoryElement((0,o.eventId)(t)+"-to");s.address=n.toString(),await i(s,t)}async function i(t,e){t.timestamp=(0,o.timestamp)(e.block);const{event:{data:[n,r,a]}}=e;t.transfer={extrinsicHash:e.extrinsic?.extrinsic.hash.toString()??"",amount:a.toString(),from:n.toString(),to:r.toString(),block:(0,o.blockNumber)(e),fee:(0,o.exportFeeFromDepositEventAsString)(e.extrinsic),extrinsicId:(0,o.extrinsicId)(e),success:!0},await t.save()}e.handleTransfer=a,e.handleTransferKeepAlive=async function(t){await a(t)}},953:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.exportFeeFromDepositEventAsString=e.exportFeeFromDepositEvent=e.timestamp=e.extrinsicIdFromBlockAndIdx=e.blockNumber=e.extrinsicId=e.eventIdFromBlockAndIdx=e.eventId=e.callFromProxy=e.callsFromBatch=e.isTransfer=e.isProxy=e.isBatch=e.distinct=void 0;const n=["batch","batchAll"],r=["transfer","transferKeepAlive"];function o(t){return t.block.block.header.number.toString()}function a(t){const e=t.events.find((t=>"Deposit"==t.event.method&&"balances"==t.event.section));if(null!=e){const{event:{data:[,t]}}=e;return t}return null}e.distinct=function(t){return[...new Set(t)]},e.isBatch=function(t){return"utility"==t.section&&n.includes(t.method)},e.isProxy=function(t){return"proxy"==t.section&&"proxy"==t.method},e.isTransfer=function(t){return"balances"==t.section&&r.includes(t.method)},e.callsFromBatch=function(t){return t.args[0]},e.callFromProxy=function(t){return t.args[2]},e.eventId=function(t){return`${o(t)}-${t.idx}`},e.eventIdFromBlockAndIdx=function(t,e){return`${t}-${e}`},e.extrinsicId=function(t){let e=t.extrinsic?t.extrinsic.idx.toString():t.idx.toString();return`${o(t)}-${e}`},e.blockNumber=o,e.extrinsicIdFromBlockAndIdx=function(t,e){return`${t}-${e}`},e.timestamp=function(t){return Math.round(t.timestamp.getTime()/1e3).toString()},e.exportFeeFromDepositEvent=a,e.exportFeeFromDepositEventAsString=function(t){if(t){let e=a(t);return e?e.toString():"0"}return"0"}},599:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=n(655);r.__exportStar(n(331),e),r.__exportStar(n(97),e)},97:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},303:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.AccumulatedStake=void 0;const r=n(655).__importDefault(n(491));class o{constructor(t){this.id=t}async save(){let t=this.id;(0,r.default)(null!==t,"Cannot save AccumulatedStake entity without an ID"),await store.set("AccumulatedStake",t.toString(),this)}static async remove(t){(0,r.default)(null!==t,"Cannot remove AccumulatedStake entity without an ID"),await store.remove("AccumulatedStake",t.toString())}static async get(t){(0,r.default)(null!=t,"Cannot get AccumulatedStake entity without an ID");const e=await store.get("AccumulatedStake",t.toString());return e?o.create(e):void 0}static create(t){(0,r.default)("string"==typeof t.id,"id must be provided");let e=new o(t.id);return Object.assign(e,t),e}}e.AccumulatedStake=o},259:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.EraValidatorInfo=void 0;const r=n(655).__importDefault(n(491));class o{constructor(t){this.id=t}async save(){let t=this.id;(0,r.default)(null!==t,"Cannot save EraValidatorInfo entity without an ID"),await store.set("EraValidatorInfo",t.toString(),this)}static async remove(t){(0,r.default)(null!==t,"Cannot remove EraValidatorInfo entity without an ID"),await store.remove("EraValidatorInfo",t.toString())}static async get(t){(0,r.default)(null!=t,"Cannot get EraValidatorInfo entity without an ID");const e=await store.get("EraValidatorInfo",t.toString());return e?o.create(e):void 0}static create(t){(0,r.default)("string"==typeof t.id,"id must be provided");let e=new o(t.id);return Object.assign(e,t),e}}e.EraValidatorInfo=o},881:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ErrorEvent=void 0;const r=n(655).__importDefault(n(491));class o{constructor(t){this.id=t}async save(){let t=this.id;(0,r.default)(null!==t,"Cannot save ErrorEvent entity without an ID"),await store.set("ErrorEvent",t.toString(),this)}static async remove(t){(0,r.default)(null!==t,"Cannot remove ErrorEvent entity without an ID"),await store.remove("ErrorEvent",t.toString())}static async get(t){(0,r.default)(null!=t,"Cannot get ErrorEvent entity without an ID");const e=await store.get("ErrorEvent",t.toString());return e?o.create(e):void 0}static create(t){(0,r.default)("string"==typeof t.id,"id must be provided");let e=new o(t.id);return Object.assign(e,t),e}}e.ErrorEvent=o},546:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.HistoryElement=void 0;const r=n(655).__importDefault(n(491));class o{constructor(t){this.id=t}async save(){let t=this.id;(0,r.default)(null!==t,"Cannot save HistoryElement entity without an ID"),await store.set("HistoryElement",t.toString(),this)}static async remove(t){(0,r.default)(null!==t,"Cannot remove HistoryElement entity without an ID"),await store.remove("HistoryElement",t.toString())}static async get(t){(0,r.default)(null!=t,"Cannot get HistoryElement entity without an ID");const e=await store.get("HistoryElement",t.toString());return e?o.create(e):void 0}static create(t){(0,r.default)("string"==typeof t.id,"id must be provided");let e=new o(t.id);return Object.assign(e,t),e}}e.HistoryElement=o},959:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.StakeChange=void 0;const r=n(655).__importDefault(n(491));class o{constructor(t){this.id=t}async save(){let t=this.id;(0,r.default)(null!==t,"Cannot save StakeChange entity without an ID"),await store.set("StakeChange",t.toString(),this)}static async remove(t){(0,r.default)(null!==t,"Cannot remove StakeChange entity without an ID"),await store.remove("StakeChange",t.toString())}static async get(t){(0,r.default)(null!=t,"Cannot get StakeChange entity without an ID");const e=await store.get("StakeChange",t.toString());return e?o.create(e):void 0}static create(t){(0,r.default)("string"==typeof t.id,"id must be provided");let e=new o(t.id);return Object.assign(e,t),e}}e.StakeChange=o},331:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ErrorEvent=e.AccumulatedStake=e.StakeChange=e.EraValidatorInfo=e.HistoryElement=void 0;var r=n(546);Object.defineProperty(e,"HistoryElement",{enumerable:!0,get:function(){return r.HistoryElement}});var o=n(259);Object.defineProperty(e,"EraValidatorInfo",{enumerable:!0,get:function(){return o.EraValidatorInfo}});var a=n(959);Object.defineProperty(e,"StakeChange",{enumerable:!0,get:function(){return a.StakeChange}});var i=n(303);Object.defineProperty(e,"AccumulatedStake",{enumerable:!0,get:function(){return i.AccumulatedStake}});var s=n(881);Object.defineProperty(e,"ErrorEvent",{enumerable:!0,get:function(){return s.ErrorEvent}})},491:t=>{t.exports=require("assert")}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var a=e[r]={exports:{}};return t[r](a,a.exports,n),a.exports}n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var r=n(559),o=exports;for(var a in r)o[a]=r[a];r.__esModule&&Object.defineProperty(o,"__esModule",{value:!0})})();